<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T·∫°o t√†i kho·∫£n</title>
    <link rel="stylesheet" href="/public/assets/css/signup.css" />
  </head>
  <body>
    <div class="container">
      <div class="left-section">
        <div class="left-content">
          <h1>Qu·∫£n l√Ω ƒë·ªÉ ƒëƒÉng<br />B√°n h√†ng ƒë∆°n gi·∫£n</h1>
          <p>H·ªó tr·ª£ ƒëƒÉng k√Ω 1800 6162</p>
          <div class="support-info">
            <strong>H·ªñ TR·ª¢ ƒêƒÇNG K√ù</strong>
            1800 6162
          </div>
        </div>
      </div>

      <div class="right-section">
        <h2 class="form-title">T·∫°o t√†i kho·∫£n d√πng th·ª≠ mi·ªÖn ph√≠</h2>

        <form id="registrationForm">
          <div class="form-group">
            <label for="fullname">H·ªç t√™n</label>
            <input
              type="text"
              id="fullname"
              name="fullname"
              placeholder=""
              required
            />
          </div>

          <div class="form-group">
            <label for="phone">S·ªë ƒëi·ªán tho·∫°i</label>
            <div class="phone-input">
              <div class="country-code">
                <span class="country-code-flag">üáªüá≥</span>
                <select
                  style="
                    border: none;
                    padding: 0;
                    background: transparent;
                    width: 100%;
                  "
                >
                  <option value="+84">+84</option>
                </select>
              </div>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="091 234 56 78"
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="country">Qu·ªëc gia ƒëƒÉng kinh doanh</label>
            <select id="country" name="country" required>
              <option value="">Ch·ªçn qu·ªëc gia</option>
              <option value="vietnam" selected>Vi·ªát Nam</option>
              <option value="usa">Hoa K·ª≥</option>
              <option value="thailand">Th√°i Lan</option>
              <option value="singapore">Singapore</option>
            </select>
          </div>

          <div class="form-group">
            <label for="industry">Ch·ªçn khu v·ª±c</label>
            <select id="industry" name="industry" required>
              <option value="">Ch·ªçn khu v·ª±c</option>
              <option value="retail">B√°n l·∫ª</option>
              <option value="wholesale">B√°n bu√¥n</option>
              <option value="food">Th·ª±c ph·∫©m - Nh√† h√†ng</option>
              <option value="fashion">Th·ªùi trang</option>
              <option value="services">D·ªãch v·ª•</option>
            </select>
          </div>

          <div class="form-group">
            <label for="captcha">M√£ x√°c th·ª±c</label>
            <div class="captcha-group">
              <div class="captcha-image">
                <canvas
                  id="captchaCanvas"
                  width="120"
                  height="50"
                  style="
                    border: 1px solid #ddd;
                    border-radius: 6px;
                    background: #f5f5f5;
                    cursor: pointer;
                  "
                ></canvas>
              </div>
              <button
                type="button"
                class="refresh-btn"
                id="refreshCaptcha"
                title="L√†m m·ªõi m√£"
              >
                üîÑ
              </button>
              <div class="captcha-input">
                <input
                  type="text"
                  id="captcha"
                  name="captcha"
                  placeholder="Nh·∫≠p m√£ x√°c th·ª±c"
                  required
                />
              </div>
            </div>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="terms" name="terms" required />
            <label for="terms" style="margin: 0; font-size: 14px">
              T√¥i ƒë√£ ƒë·ªçc v√† ƒë·ªìng √Ω
              <a href="#">ƒêi·ªÅu kho·∫£n v√† ch√≠nh s√°ch s·ª≠ d·ª•ng</a> c·ªßa KiotViet
            </label>
          </div>

          <button type="submit" class="submit-btn">Ti·∫øp t·ª•c</button>
        </form>
      </div>
    </div>

    <script>
      // CAPTCHA Generator
      class CaptchaGenerator {
        constructor(canvasId) {
          this.canvas = document.getElementById(canvasId);
          this.ctx = this.canvas.getContext("2d");
          this.captchaCode = "";
          this.generateCaptcha();
        }

        generateCaptcha() {
          // Generate random 4 character code
          const chars =
            "ABCDEFGHJKLMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789";
          this.captchaCode = "";
          for (let i = 0; i < 4; i++) {
            this.captchaCode += chars.charAt(
              Math.floor(Math.random() * chars.length)
            );
          }

          this.drawCaptcha();
        }

        drawCaptcha() {
          // Clear canvas
          this.ctx.fillStyle = "#f5f5f5";
          this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

          // Add noise lines
          for (let i = 0; i < 3; i++) {
            this.ctx.strokeStyle = `rgba(100, 100, 100, 0.3)`;
            this.ctx.beginPath();
            this.ctx.moveTo(
              Math.random() * this.canvas.width,
              Math.random() * this.canvas.height
            );
            this.ctx.lineTo(
              Math.random() * this.canvas.width,
              Math.random() * this.canvas.height
            );
            this.ctx.stroke();
          }

          // Add noise dots
          for (let i = 0; i < 20; i++) {
            this.ctx.fillStyle = `rgba(100, 100, 100, ${Math.random() * 0.5})`;
            const x = Math.random() * this.canvas.width;
            const y = Math.random() * this.canvas.height;
            this.ctx.fillRect(x, y, 2, 2);
          }

          // Draw text
          this.ctx.fillStyle = "#1e3c72";
          this.ctx.font = "bold 32px Arial";
          this.ctx.textAlign = "center";
          this.ctx.textBaseline = "middle";

          const letterSpacing =
            this.canvas.width / (this.captchaCode.length + 1);

          for (let i = 0; i < this.captchaCode.length; i++) {
            const x = letterSpacing * (i + 1);
            const y = this.canvas.height / 2;
            const rotation = (Math.random() - 0.5) * 0.4;

            this.ctx.save();
            this.ctx.translate(x, y);
            this.ctx.rotate(rotation);
            this.ctx.fillText(this.captchaCode[i], 0, 0);
            this.ctx.restore();
          }
        }

        getCode() {
          return this.captchaCode;
        }

        refresh() {
          this.generateCaptcha();
        }
      }

      // Initialize CAPTCHA
      let captcha = new CaptchaGenerator("captchaCanvas");

      document
        .getElementById("registrationForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const userInput = document.getElementById("captcha").value.trim();
          const correctCode = captcha.getCode();

          if (userInput.toLowerCase() !== correctCode.toLowerCase()) {
            alert("M√£ x√°c th·ª±c kh√¥ng ch√≠nh x√°c! Vui l√≤ng th·ª≠ l·∫°i.");
            captcha.refresh();
            document.getElementById("captcha").value = "";
            return;
          }

          const formData = {
            fullname: document.getElementById("fullname").value,
            phone: document.getElementById("phone").value,
            country: document.getElementById("country").value,
            industry: document.getElementById("industry").value,
          };

          console.log("Form data:", formData);
          alert("ƒêƒÉng k√Ω th√†nh c√¥ng! Vui l√≤ng ki·ªÉm tra email c·ªßa b·∫°n.");

          // Reset form
          this.reset();
          captcha.refresh();
          document.getElementById("captcha").value = "";
        });

      // Refresh captcha button
      document
        .getElementById("refreshCaptcha")
        .addEventListener("click", function (e) {
          e.preventDefault();
          captcha.refresh();
          document.getElementById("captcha").value = "";
          document.getElementById("captcha").focus();
        });

      // Click on canvas to refresh
      document
        .getElementById("captchaCanvas")
        .addEventListener("click", function () {
          captcha.refresh();
          document.getElementById("captcha").value = "";
          document.getElementById("captcha").focus();
        });
    </script>
  </body>
</html>
